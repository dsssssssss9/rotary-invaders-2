<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="!.xWxd](JC{)k;lLyE]K">Pos</variable><variable id="+URKP*@GFu-*[m:cCmST">Enemy</variable><variable id="b|@gynxP)nzJ.c5av^.3">index</variable></variables><comment id="@t=h/uoQlC(7k{vw47!0" x="684" y="382" h="200" w="200">  using new version of KY-040 extension !!
 
 now allows pin assignment
 
  ************************
 
 
 

 
 
 

 
 
 
  have asked herr klein if can have user select Pin?
 
 
 
  debouncer works fine - just need to only allow 1 shot - extra pushes are buffered
 
 
 
  TO DO
 
 
 
  ----------
 
 
 
  ADD SCORING
 
 
 
  add sound
 
 
 
  enemy movement
 
 
 
  enemy time limit
 
 
 
  bonus ships?
 
 
 
  2 player / 2 bits?</comment><block type="pxt-on-start" id="l98lk$CjwC~anJ49SrM9" collapsed="true" x="20" y="20"><statement name="HANDLER"><block type="basic_show_icon" id="w3QE(=Wm7_MEpoy`_3!k"><field name="i">IconNames.Tortoise</field><next><block type="SetKy" id="{bm6zjG)BC^(u]mj^#r;"><field name="CPin">DigitalPin.P1</field><field name="DPin">DigitalPin.P15</field><next><block type="callimatrix_initNeoMatrix" id="Zv=~.KKZN%0G?s8(y3Ho"><field name="pin">DigitalPin.P2</field><next><block type="callimatrix_del" id="(jw=`LeYLASl@gc.E39*"><next><block type="variables_set" id="uyG8xs$PJ,y#o3FE]#DQ"><field name="VAR" id="!.xWxd](JC{)k;lLyE]K">Pos</field><value name="VALUE"><shadow type="math_number" id="ijjEegp56E^#9!obN*Y;"><field name="NUM">0</field></shadow></value><next><block type="callimatrix_SetMatrixColorbright" id="7MfQZ*=!,S:etMwez-un"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><field name="brightnes">cbrightness.hp25</field><value name="color"><shadow type="colorNumberPicker" id="_5CMQRwLD1#.d~(OFFE|"><field name="value">0x00ff00</field></shadow></value><value name="x"><shadow type="math_number" id="}C6,eb}L.mMB7n6{g06#"><field name="NUM">0</field></shadow></value><value name="y"><shadow type="math_number" id="yY8Y/EaTNM9bEVmHO6Om"><field name="NUM">0</field></shadow></value><next><block type="callimatrix_show" id="Y!RK#{u[k.Dlf!)E[dad"><next><block type="variables_set" id="yWuT)DWZ5TGE|(h2fh0r"><field name="VAR" id="+URKP*@GFu-*[m:cCmST">Enemy</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_random" id="fSN_bB)^#$25=y/iUgp."><value name="min"><shadow type="math_number" id="20Q?/^:H3/Ece6W^ne-1"><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="WZgQNTu*mMSV+lAJ;^A8"><field name="NUM">7</field></shadow></value></block></value><next><block type="device_pause" id="1`Ic}O1,1@u:9_03{q08"><value name="pause"><shadow type="timePicker" id="B4C2_l)5A-j)qDhCI1ev"><field name="ms">1000</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="/;KbbM^?pCPgr8O,sg.)" collapsed="true" x="177" y="20"><statement name="HANDLER"><block type="function_call" id="Y1JsN#,$r^pof/[]*b%c"><mutation name="Show_Enemy" functionid="|+hxubf=_.0UdjGdU?:M"/></block></statement></block><block type="device_forever" id="@IEpl{QGx3TH.SzW2A}Q" collapsed="true" x="326" y="20"><statement name="HANDLER"><block type="function_call" id="`O:jY4ATXNo!]UTRVF20"><mutation name="Show_Base" functionid="!8]rS5+oRy.b%7b5_u54"/></block></statement></block><block type="onPressEvent" id="C=$YMBp{IbcE{st{G*0$" collapsed="true" x="475" y="20"><field name="pin">DigitalPin.P14</field><statement name="HANDLER"><block type="function_call" id=":FlXDq@iEJ0@ST}|Z71d"><mutation name="Shoot" functionid="LSrV{4CxgDrDJe[U9%U|"/></block></statement></block><block type="onTurned" id="9_=OU--cNvc)::m=Fto-" collapsed="true" x="752" y="20"><field name="direction">direction.clockwise</field><statement name="HANDLER"><block type="function_call" id="zdx@!pX,Ezq.!|9z4fg]"><mutation name="Move_Left" functionid="Q%@d`YE^*:f,S[*;L8?V"/></block></statement></block><block type="onTurned" id="4/m(EoW1p81c490boYDf" collapsed="true" x="20" y="165"><field name="direction">direction.counterclockwise</field><statement name="HANDLER"><block type="function_call" id="wuR{#E]HV^u2Mf`cm(lA"><mutation name="Move_Right" functionid="XTwp}qon*B+k_,rcQ=LO"/></block></statement></block><block type="function_definition" id="dO.oyjK=tb~Gms%R,LPU" collapsed="true" x="307" y="165"><mutation name="Move_Right" functionid="XTwp}qon*B+k_,rcQ=LO"/><field name="function_name">Move_Right</field><statement name="STACK"><block type="variables_change" id="h?kcWswWz{_^}8n+jd]["><field name="VAR" id="!.xWxd](JC{)k;lLyE]K">Pos</field><value name="VALUE"><shadow type="math_number" id="%bl(LVLWHC5*ga_j0;@O"><field name="NUM">-1</field></shadow></value><next><block type="controls_if" id="Vc~%)z31.U.$OeBzxj3}"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="x8}RxhR6m_HkO!N/t|g("><field name="OP">LTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="^X}mMXg9uvZC#ZrfD`Nq"><field name="VAR" id="!.xWxd](JC{)k;lLyE]K">Pos</field></block></value><value name="B"><shadow type="math_number" id="[A.XGWaNVpD)K{U:{66e"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="q;3Hgrq_D#xc2E5[Z5[b"><field name="VAR" id="!.xWxd](JC{)k;lLyE]K">Pos</field><value name="VALUE"><shadow type="math_number" id="tu53NGZs`OOU;t%xG9=C"><field name="NUM">0</field></shadow></value></block></statement><next><block type="device_pause" id="[x$I0q{gSAM:/HAcXZvC"><value name="pause"><shadow type="timePicker" id="@OSzIv[/iNppps)$CFqe"><field name="ms">25</field></shadow></value><next><block type="device_clear_display" id="_A89kL*~ti5gTE7(wg|4"/></next></block></next></block></next></block></statement></block><block type="function_definition" id="+;+9qn14]JeQ,VlibvDn" collapsed="true" x="552" y="165"><mutation name="Show_Base" functionid="!8]rS5+oRy.b%7b5_u54"/><field name="function_name">Show_Base</field><statement name="STACK"><block type="callimatrix_SetMatrixColorbright" id="amMNeKgOug#9AU+QBkI5"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><field name="brightnes">cbrightness.hp6</field><value name="color"><shadow type="colorNumberPicker" id="*mWXQr4!k:,ZW%r_.+DW"><field name="value">0x000000</field></shadow></value><value name="x"><shadow type="math_number" id="x3Z}wsQPodxFabp%6KAZ"><field name="NUM">0</field></shadow></value><value name="y"><block type="math_arithmetic" id="8;cvEK#{BVJLQ3v%zI-a"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id=",Tv:OJvfcsC2%35cN6*k"><field name="VAR" id="!.xWxd](JC{)k;lLyE]K">Pos</field></block></value><value name="B"><shadow type="math_number" id="r15{#=ku@IgPUX_*asWt"><field name="NUM">1</field></shadow></value></block></value><next><block type="callimatrix_SetMatrixColorbright" id="W2mXJ`h.1.10!RWRp8Xa"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><field name="brightnes">cbrightness.hp6</field><value name="color"><shadow type="colorNumberPicker" id="ChD,jLm^B*I=fYL0+2_u"><field name="value">0x000000</field></shadow></value><value name="x"><shadow type="math_number" id="zqrfnVG[V~fH/OBI*6~;"><field name="NUM">0</field></shadow></value><value name="y"><block type="math_arithmetic" id="_;lzkZ}(LD-_8uwot8|i"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="+,.OSs08cDp?_XF1;5Nq"><field name="VAR" id="!.xWxd](JC{)k;lLyE]K">Pos</field></block></value><value name="B"><shadow type="math_number" id="=BkYdF;8i@n|2-ZbDu6l"><field name="NUM">1</field></shadow></value></block></value><next><block type="callimatrix_SetMatrixColorbright" id="yS6y#N.m8oZ63AS69H~B"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><field name="brightnes">cbrightness.hp6</field><value name="color"><shadow type="colorNumberPicker" id="Op/4zHiz^t=zyVwvQ.!S"><field name="value">0x00ff00</field></shadow></value><value name="x"><shadow type="math_number" id="Tk0?eLxLzPE;ox#R:B)+"><field name="NUM">0</field></shadow></value><value name="y"><block type="variables_get" id="v7/KwLK9sMRF}7i@(fs{"><field name="VAR" id="!.xWxd](JC{)k;lLyE]K">Pos</field></block></value><next><block type="callimatrix_show" id="e~S_bvSa27UkpR(0*`K?"/></next></block></next></block></next></block></statement></block><block type="function_definition" id=",Rk]05v@|DEhanX~Ln$f" collapsed="true" x="789" y="165"><mutation name="Show_Enemy" functionid="|+hxubf=_.0UdjGdU?:M"/><field name="function_name">Show_Enemy</field><statement name="STACK"><block type="callimatrix_SetMatrixColorbright" id="@L/}z:ptSl@]d1H^g}j("><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="false"></mutation><value name="color"><shadow type="colorNumberPicker" id="2}/L@Qz#tVurTYe.@{E#"><field name="value">0xff0000</field></shadow></value><value name="x"><shadow type="math_number" id="^Jvm34KbJC,^F#z%d]ve"><field name="NUM">7</field></shadow></value><value name="y"><block type="variables_get" id=")3g3UE2Qf{t?M4u/qUu:"><field name="VAR" id="+URKP*@GFu-*[m:cCmST">Enemy</field></block></value><next><block type="callimatrix_show" id="*a(c3m+YSeTLzGW?(-TU"/></next></block></statement></block><block type="function_definition" id="O@ohbnh34LF0D39~Bl}3" collapsed="true" x="20" y="332"><mutation name="Shoot" functionid="LSrV{4CxgDrDJe[U9%U|"/><field name="function_name">Shoot</field><statement name="STACK"><block type="basic_show_icon" id="Mb7Q^tD=DldQ(V|b:?ut"><field name="i">IconNames.Sword</field><next><block type="pxt_controls_for" id="-BE!UkqvzOdu#.jl;BXf"><value name="VAR"><shadow type="variables_get_reporter" id="-kb}4Z*D|dFZc+@ttkTZ"><field name="VAR" id="b|@gynxP)nzJ.c5av^.3">index</field></shadow></value><value name="TO"><shadow type="math_whole_number" id="TzI#+vahFEgGE$v~sfo|"><field name="NUM">7</field></shadow></value><statement name="DO"><block type="callimatrix_SetMatrixColorbright" id="qgD0?:Y@xrlYF/x]W.1I"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><field name="brightnes">cbrightness.hp2</field><value name="color"><shadow type="colorNumberPicker" id="`AMw1h^fmKdadPnTJShV"><field name="value">0xffff00</field></shadow></value><value name="x"><block type="math_arithmetic" id=",tbMtX;=/A%xlr~-88!|"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="7b9ypd^]fwRMlshC=)0p"><field name="VAR" id="b|@gynxP)nzJ.c5av^.3">index</field></block></value><value name="B"><shadow type="math_number" id="=%~:}*nTHneR}[G!bKAA"><field name="NUM">1</field></shadow></value></block></value><value name="y"><block type="variables_get" id="S*d,$b~FZ2Y~=[aHP?Xs"><field name="VAR" id="!.xWxd](JC{)k;lLyE]K">Pos</field></block></value><next><block type="callimatrix_show" id="DDI3L3Gk%/3bH6ZiOyAC"><next><block type="device_pause" id="eFd_?D.mPQJ3r05qO`@b"><value name="pause"><shadow type="timePicker" id="JeLBpl7JQ6%PZ/si8LCR"><field name="ms">500</field></shadow></value><next><block type="controls_if" id="[HLjknHAP}}JlC#1Y0Lr"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="#bhKv:T?FUwd(rWbFMQT"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="-Ee0o9@_hrtzv;li=wpt"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="LGu%g@-7)0A:ELrF-9@l"><field name="VAR" id="!.xWxd](JC{)k;lLyE]K">Pos</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="GgU8IL|.Ju)Vex~cw|FW"><field name="VAR" id="+URKP*@GFu-*[m:cCmST">Enemy</field></block></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="_4L?aQrjfEQj?gOHc(dA"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id=")Q`UY}%+p/]c%0xT1WC."><field name="VAR" id="b|@gynxP)nzJ.c5av^.3">index</field></block></value><value name="B"><shadow type="math_number" id="vO+BGb.g$d02J*?e0]2u"><field name="NUM">7</field></shadow></value></block></value></block></value><statement name="DO0"><block type="function_call" id="p+pzow7Hy?(AB)kNBZc."><mutation name="Hit" functionid="wg}-qj}!CJg2GuJ3=E7Y"/><next><block type="break_keyword" id="r+ES^mwH9gv([Cv$PVe|"/></next></block></statement><next><block type="callimatrix_SetMatrixColorbright" id="O0{(fb;t9_6MP|0=D8y|"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><field name="brightnes">cbrightness.hp2</field><value name="color"><shadow type="colorNumberPicker" id="?Xq~1Y6O:6:0XE0.;pP}"><field name="value">0x000000</field></shadow></value><value name="x"><block type="math_arithmetic" id="Q?:l=gS`v1k(2fSbQ5JN"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="8$ETUA=_D,ejpBejU:PV"><field name="VAR" id="b|@gynxP)nzJ.c5av^.3">index</field></block></value><value name="B"><shadow type="math_number" id="1w4/6yj)v!!UkEnxNDWM"><field name="NUM">1</field></shadow></value></block></value><value name="y"><block type="variables_get" id="k~Nx$0x}^dZ~2a:%ixX)"><field name="VAR" id="!.xWxd](JC{)k;lLyE]K">Pos</field></block></value><next><block type="callimatrix_show" id=",Hkn;LdW:UNKk(CKE(Od"/></next></block></next></block></next></block></next></block></next></block></statement><next><block type="device_pause" id="-$)q[lDu*DI6q;/ws]zL"><value name="pause"><shadow type="timePicker" id="uH.r5(}vN,yZ7_Ds88|Q"><field name="ms">200</field></shadow></value><next><block type="device_clear_display" id="2RIN%8N7vgSq;6UgT[^,"/></next></block></next></block></next></block></statement></block><block type="function_definition" id="%-{FQLpFH,s#lL3-YG@I" collapsed="true" x="225" y="332"><mutation name="Hit" functionid="wg}-qj}!CJg2GuJ3=E7Y"/><field name="function_name">Hit</field><statement name="STACK"><block type="basic_show_icon" id="CJ|X*~)xFO!qD)y}C~4j"><field name="i">IconNames.Angry</field><next><block type="device_pause" id="C6J8)YKS_umgG@%al_N%"><value name="pause"><shadow type="timePicker" id="6+P.3/s7na~LmV^T6]}}"><field name="ms">200</field></shadow></value><next><block type="callimatrix_SetMatrixColorbright" id="4uKrpzoMS2me7jFnxC2t"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="false"></mutation><value name="color"><shadow type="colorNumberPicker" id="}R7ZUx!UO8ekVe/l7%JS"><field name="value">0x000000</field></shadow></value><value name="x"><shadow type="math_number" id="a?vitXCQB4@:8gUF34zr"><field name="NUM">7</field></shadow></value><value name="y"><block type="variables_get" id="c8mxNW|78_]d?@{g#9p5"><field name="VAR" id="+URKP*@GFu-*[m:cCmST">Enemy</field></block></value><next><block type="callimatrix_show" id="`;2zuUb.([-59Alnvgeg"><next><block type="variables_set" id="xS9*P3n/ZmC-SXzDqo)S"><field name="VAR" id="+URKP*@GFu-*[m:cCmST">Enemy</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_random" id="O-SL$U6Yw3DCw0s5)$=i"><value name="min"><shadow type="math_number" id="!H9*02Eh^h5CDdCOWHjT"><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="=AK(ir4{zvt|45guG]KZ"><field name="NUM">7</field></shadow></value></block></value><next><block type="device_clear_display" id="7QNd02jN?^_UCU5p}p7W"/></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="|kk%;GRycRh#Ig%^yL`u" collapsed="true" x="414" y="332"><mutation name="Move_Left" functionid="Q%@d`YE^*:f,S[*;L8?V"/><field name="function_name">Move_Left</field><statement name="STACK"><block type="variables_change" id="|ahWD_gMH|UqeliEra1f"><field name="VAR" id="!.xWxd](JC{)k;lLyE]K">Pos</field><value name="VALUE"><shadow type="math_number" id="r,T@1TVKw1x?`z.Si7b)"><field name="NUM">1</field></shadow></value><next><block type="controls_if" id="O[.5/Xbdm)}H)NL`Bcj9"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="*vCZEJo@H$WJN})Jw,lE"><field name="OP">GTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="yjA$N6ZkptgWmBz?Q.|P"><field name="VAR" id="!.xWxd](JC{)k;lLyE]K">Pos</field></block></value><value name="B"><shadow type="math_number" id="#$2og}GG{f+WlfQwQJR3"><field name="NUM">7</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="4$9MHGp{Lblk5_CUoZT["><field name="VAR" id="!.xWxd](JC{)k;lLyE]K">Pos</field><value name="VALUE"><shadow type="math_number" id="0fls6})C=tZIME]?!yXo"><field name="NUM">7</field></shadow></value></block></statement><next><block type="device_pause" id="^_2pY2ES1kAy{_joFxvl"><value name="pause"><shadow type="timePicker" id="ARkbrqYaoOo~o1/j+RZs"><field name="ms">25</field></shadow></value><next><block type="device_clear_display" id="(X3WTy{~`N4%[M@O@Kcn"/></next></block></next></block></next></block></statement></block></xml>